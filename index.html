<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cookie API Card Builder - Modern Design</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Roboto:wght@300;400;500;700&family=Open+Sans:wght@300;400;500;600;700&family=DM+Sans:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&family=Poppins:wght@300;400;500;600;700&family=Nunito:wght@300;400;500;600;700&family=Source+Sans+Pro:wght@300;400;600;700&family=Lato:wght@300;400;700&family=Montserrat:wght@300;400;500;600;700&family=Raleway:wght@300;400;500;600;700&family=Ubuntu:wght@300;400;500;700&family=Playfair+Display:wght@400;500;600;700&family=Merriweather:wght@300;400;700&family=Oswald:wght@300;400;500;600;700&family=Lora:wght@400;500;600;700&family=Oleo+Script:wght@400;700&family=Pacifico&family=Dancing+Script:wght@400;500;600;700&family=Caveat:wght@400;500;600;700&family=Comfortaa:wght@300;400;500;600;700&family=Fredoka:wght@300;400;500;600&family=Quicksand:wght@300;400;500;600;700&family=Rubik:wght@300;400;500;600;700&family=Work+Sans:wght@100;200;300;400;500;600;700;800;900&family=Rajdhani:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/mobile.css">
</head>
<body>
    <!-- Modern Header -->
    <header class="modern-header">
        <div class="header-content">
            <div class="logo-section">
                <div class="logo-icon">🍪</div>
                <div class="logo-text">
                    <h1>Cookie Card Builder</h1>
                    <div class="troelns-box">
                        <div style="display: flex; align-items: center; gap: 6px;">
                            <span>Designed by:</span>
                            <span style="display: flex; align-items: center; gap: 4px;">
                                <img src="https://cdn.discordapp.com/avatars/1011787830567120898/51b35a89cc0046bd8720770163fe680f.png" width="20" height="20" style="border-radius: 50%;" />
                                <span class="animated-gradient">Trolens</span>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="header-center">
                <div class="troelns-box">
                    <div style="display: flex; align-items: center; gap: 6px;">
                        <span>Designed by:</span>
                        <span style="display: flex; align-items: center; gap: 4px;">
                            <img src="https://cdn.discordapp.com/avatars/1011787830567120898/51b35a89cc0046bd8720770163fe680f.png" width="20" height="20" style="border-radius: 50%;" />
                            <span class="animated-gradient">Trolens</span>
                        </span>
                    </div>
                </div>
            </div>
            <div class="header-actions">
                <button class="news-btn" onclick="showNewsModal()" id="news-btn">
                    <span>📰</span> News
                    <span class="news-badge" id="news-badge" style="display: none;">!</span>
                </button>
                <button class="help-btn" onclick="showHelpModal()" id="help-btn">
                    <span>❓</span> Help
                    <span class="help-badge" id="help-badge" style="display: none;">!</span>
                </button>
            </div>
        </div>
    </header>

    <!-- Main Layout -->
    <div class="main-layout">
        <!-- Sidebar - Tools -->
        <aside class="tools-sidebar">
            <div class="sidebar-section">
                <h3>🎨 Elements</h3>
                
                <!-- Basic Elements -->
                <div class="element-category">
                    <h4>📝 Basic</h4>
                    <div class="element-grid two-columns">
                        <button class="element-card" onclick="addElement('text')" data-type="text">
                            <div class="element-icon">📝</div>
                            <span>Text</span>
                            <div class="element-badge" id="quota-text">0/100</div>
                        </button>
                        <button class="element-card" onclick="addElement('image')" data-type="image">
                            <div class="element-icon">🖼️</div>
                            <span>Image</span>
                            <div class="element-badge" id="quota-image">0/10</div>
                        </button>
                    </div>
                </div>

                <!-- Profile Elements -->
                <div class="element-category">
                    <h4>👤 Profiles</h4>
                    <div class="element-grid two-columns">
                        <button class="element-card" onclick="addElement('discord_profile')" data-type="discord_profile">
                            <div class="element-icon">💬</div>
                            <span>Discord</span>
                            <div class="element-badge" id="quota-discord_profile">0/10</div>
                        </button>
                        <button class="element-card" onclick="addElement('roblox_profile')" data-type="roblox_profile">
                            <div class="element-icon">🎮</div>
                            <span>Roblox</span>
                            <div class="element-badge" id="quota-roblox_profile">0/10</div>
                        </button>
                    </div>
                </div>

                <!-- Advanced Elements -->
                <div class="element-category">
                    <h4>⚡ Advanced</h4>
                    <div class="element-grid single-column">
                        <button class="element-card" onclick="addElement('progressbar')" data-type="progressbar">
                            <div class="element-icon">📊</div>
                            <span>Progress</span>
                            <div class="element-badge" id="quota-progressbar">0/20</div>
                        </button>
                    </div>
                </div>
            </div>


            <div class="sidebar-section">
                <h3>📋 Templates <span class="templates-badge" id="templates-badge" style="display: none;">!</span></h3>
                <div class="templates-grid" id="templates-grid">
                    <button class="template-card" onclick="loadTemplate('level')">
                        <div class="template-preview">📈</div>
                        <span>Level Up</span>
                    </button>
                    <button class="template-card" onclick="loadTemplate('achievement')">
                        <div class="template-preview">🏆</div>
                        <span>Achievement</span>
                    </button>
                    <button class="template-card" onclick="loadTemplate('profile')">
                        <div class="template-preview">👤</div>
                        <span>Profile</span>
                    </button>
                    <button class="template-card" onclick="loadTemplate('discord_card')">
                        <div class="template-preview">💬</div>
                        <span>Discord Card</span>
                    </button>
                    <button class="template-card" onclick="loadTemplate('gaming_profile')">
                        <div class="template-preview">🎮</div>
                        <span>Gaming Profile</span>
                    </button>
                    <button class="template-card" onclick="loadTemplate('progress_card')">
                        <div class="template-preview">📊</div>
                        <span>Progress Card</span>
                    </button>
                    <button class="template-card" onclick="loadTemplate('achievement_unlock')">
                        <div class="template-preview">🔓</div>
                        <span>Achievement Unlock</span>
                    </button>
                    <button class="template-card" onclick="loadTemplate('level_up')">
                        <div class="template-preview">⬆️</div>
                        <span>Level Up!</span>
                    </button>
                    <button class="template-card" onclick="loadTemplate('cyberpunk_card')">
                        <div class="template-preview">🤖</div>
                        <span>Cyberpunk</span>
                    </button>
                    <button class="template-card" onclick="loadTemplate('glassmorphism_card')">
                        <div class="template-preview">💎</div>
                        <span>Glass</span>
                    </button>
                    <button class="template-card" onclick="loadTemplate('retro_wave_card')">
                        <div class="template-preview">🌊</div>
                        <span>Retro Wave</span>
                    </button>
                    <button class="template-card" onclick="loadTemplate('glassmorphism_advanced')">
                        <div class="template-preview">🔮</div>
                        <span>Glass 3D</span>
                    </button>
                    <button class="template-card" onclick="loadTemplate('gaming_stats')">
                        <div class="template-preview">📊</div>
                        <span>Gaming Stats</span>
                    </button>
                    <button class="template-card" onclick="loadTemplate('achievement_progress')">
                        <div class="template-preview">🏆</div>
                        <span>Achievement Progress</span>
                    </button>
                    <button class="template-card" onclick="loadTemplate('professional_skills')">
                        <div class="template-preview">💼</div>
                        <span>Professional Skills</span>
                    </button>
                    <button class="template-card" onclick="loadTemplate('character_stats')">
                        <div class="template-preview">⚔️</div>
                        <span>Character Stats</span>
                    </button>
                </div>
                
                <!-- Show More Templates Button -->
                <div class="templates-more-section">
                    <button class="templates-more-btn" id="templates-more-btn" onclick="toggleTemplatesExpanded()">
                        <i data-lucide="chevron-down" class="templates-more-icon"></i>
                        <span class="templates-more-text">Show More</span>
                    </button>
                </div>
                
                <!-- Clear Canvas Button -->
                <div class="clear-canvas-section">
                    <button class="clear-canvas-btn" onclick="clearCanvas()">
                        <span>🧹</span>
                        <span>Clear Canvas</span>
                    </button>
                </div>
                
                <!-- Export Section -->
                <div class="export-section">
                    <h4>📤 Export Card</h4>
                    
                    <!-- JSON Mode Selector -->
                    <div class="json-mode-selector">
                        <label class="json-mode-toggle">
                            <input type="radio" name="jsonMode" value="normal" checked>
                            <span class="toggle-label">Normal JSON</span>
                        </label>
                        <label class="json-mode-toggle">
                            <input type="radio" name="jsonMode" value="variables">
                            <span class="toggle-label">JSON with Variables</span>
                        </label>
                    </div>
                    
                    <!-- JSON Output -->
                    <div class="json-output-container">
                        <textarea id="json-output" readonly placeholder="Your card JSON will appear here..."></textarea>
                    </div>
                    
                    <!-- Export Buttons -->
                    <div class="export-buttons">
                        <button onclick="copyJSON()" class="export-btn copy-btn">📋 Copy</button>
                        <button onclick="downloadJSON()" class="export-btn download-btn">💾 Download</button>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Main Canvas Area -->
        <main class="canvas-area">
            <div class="canvas-header">
                <div class="canvas-controls">
                    <div class="control-group">
                        <label>Canvas Size</label>
                        <div class="size-inputs">
                            <input type="number" id="card-width" value="800" min="200" max="1200" placeholder="Width">
                            <span>×</span>
                            <input type="number" id="card-height" value="400" min="100" max="800" placeholder="Height">
                        </div>
                    </div>
                    <div class="control-group">
                        <label>Zoom</label>
                        <div class="zoom-controls">
                            <button id="zoom-out" class="zoom-btn" title="Zoom Out">
                                <i data-lucide="zoom-out"></i>
                            </button>
                            <select id="canvas-zoom" class="zoom-select">
                                <option value="0.25">25%</option>
                                <option value="0.5">50%</option>
                                <option value="0.75" selected>75%</option>
                                <option value="1">100%</option>
                                <option value="1.25">125%</option>
                                <option value="1.5">150%</option>
                                <option value="2.0">200%</option>
                                <option value="3.0">300%</option>
                                <option value="4.0">400%</option>
                                <option value="5.0">500%</option>
                            </select>
                            <button id="zoom-in" class="zoom-btn" title="Zoom In">
                                <i data-lucide="zoom-in"></i>
                            </button>
                            <button id="zoom-fit" class="zoom-btn" title="Fit to Screen">
                                <i data-lucide="fullscreen"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Actions Row - Two Columns -->
                <div class="actions-row">
                    <!-- Quick Actions Column -->
                    <div class="quick-actions-section">
                        <h4>⚡ Quick Actions</h4>
                        <div class="quick-actions-toolbar">
                            <!-- Alignment Tools -->
                            <div class="toolbar-group">
                                <div class="toolbar-label">Align</div>
                                <div class="toolbar-buttons">
                                    <button class="toolbar-btn" onclick="alignElement('left')" title="Align Left">
                                        <i data-lucide="align-horizontal-justify-start"></i>
                                    </button>
                                    <button class="toolbar-btn" onclick="alignElement('center')" title="Align Center Horizontally">
                                        <i data-lucide="align-center-vertical"></i>
                                    </button>
                                    <button class="toolbar-btn" onclick="alignElement('right')" title="Align Right">
                                        <i data-lucide="align-horizontal-justify-end"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <div class="toolbar-group">
                                <div class="toolbar-label">Vertical</div>
                                <div class="toolbar-buttons">
                                    <button class="toolbar-btn" onclick="alignElement('top')" title="Align Top">
                                        <i data-lucide="align-vertical-justify-start"></i>
                                    </button>
                                    <button class="toolbar-btn" onclick="alignElement('middle')" title="Align Center Vertically">
                                        <i data-lucide="align-center-horizontal"></i>
                                    </button>
                                    <button class="toolbar-btn" onclick="alignElement('bottom')" title="Align Bottom">
                                        <i data-lucide="align-vertical-justify-end"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <!-- Center & Fit Tools -->
                            <div class="toolbar-group">
                                <div class="toolbar-label">Tools</div>
                                <div class="toolbar-buttons">
                                    <button class="toolbar-btn" onclick="centerElement()" title="Center Element">
                                        <i data-lucide="crosshair"></i>
                                    </button>
                                    <button class="toolbar-btn" onclick="fitToCanvas()" title="Fit to Canvas">
                                        <i data-lucide="fullscreen"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <!-- Toggle Tools -->
                            <div class="toolbar-group">
                                <div class="toolbar-label">Toggle</div>
                                <div class="toolbar-buttons">
                                    <button class="toolbar-btn" id="snap-guides-toggle" onclick="toggleSnapGuides()" title="Toggle Snap Guides">
                                        <i data-lucide="magnet"></i>
                                    </button>
                                    <button class="toolbar-btn" onclick="testRedCanvasCenter()" title="Show Center Crosshair">
                                        <i data-lucide="eye"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Card Properties Column -->
                    <div class="card-properties-section">
                        <h4>🖼️ Card Properties</h4>
                        <div class="card-properties-grid">
                            <div class="card-property">
                                <label>Transparent</label>
                                <div class="switch-container">
                                    <input type="checkbox" id="bg-transparent" class="switch-input">
                                    <label for="bg-transparent" class="switch-label">
                                        <span class="switch-slider"></span>
                                    </label>
                                </div>
                            </div>
                            <div class="card-property">
                                <label>Type</label>
                                <select id="bg-type">
                                    <option value="color">Color</option>
                                    <option value="image">Image</option>
                                </select>
                            </div>
                            <div class="card-property" id="color-property">
                                <label>Color</label>
                                <input type="color" id="bg-color" value="#1a1a2e">
                            </div>
                            <div class="card-property" id="image-url-property" style="display: none;">
                                <label>Image URL</label>
                                <input type="url" id="bg-image" placeholder="https://example.com/image.jpg">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="canvas-container">
                <div class="canvas-viewport" id="canvas-viewport">
                    <div class="canvas" id="canvas">
                        <div class="canvas-resize-handle" id="canvas-resize-handle"></div>
                    </div>
                    <div class="zoom-display" id="zoom-display">75%</div>
                </div>
            </div>
        </main>

        <!-- Properties Panel -->
        <aside class="properties-panel">
            <div class="panel-header">
                <h3>⚙️ Properties</h3>
                <div class="panel-tabs">
                    <button class="tab-btn active" onclick="switchTab('element')">Element</button>
                    <button class="tab-btn" onclick="switchTab('layers')">Layers</button>
                </div>
            </div>


            <!-- Element Properties -->
            <div class="tab-content active" id="element-tab">
                <!-- Canvas Status (shown when no element selected) -->
                <div class="canvas-status" id="canvas-status">
                    <div class="status-icon">🎨</div>
                    <div class="status-text">Canvas is empty</div>
                    <div class="status-hint">Add elements to start building</div>
                </div>
                
                <!-- All Properties Sections (hidden when no element selected) -->
                <div id="properties-sections">
                <!-- Position & Size -->
                <div class="property-section" id="position-size-section">
                    <div class="section-header">
                        <h4>Position & Size</h4>
                        <div class="variable-mode-toggle">
                            <label>
                                <input type="checkbox" id="position-variable-mode" class="switch-input">
                                <span class="switch-label">
                                    <span class="switch-slider"></span>
                                </span>
                                <span class="toggle-label">Variable Mode</span>
                            </label>
                        </div>
                    </div>
                    <div class="property-grid" id="normal-position-fields">
                        <div class="property-item">
                            <label>X</label>
                            <input type="number" id="prop-x" step="0.1" min="1">
                        </div>
                        <div class="property-item">
                            <label>Y</label>
                            <input type="number" id="prop-y" step="0.1" min="1">
                        </div>
                        <div class="property-item">
                            <label>Opacity</label>
                            <input type="number" id="prop-opacity" value="100" min="0" max="100">
                        </div>
                        <div class="property-item">
                            <label>Layer</label>
                            <input type="number" id="prop-layer" value="1" min="1" max="10">
                        </div>
                    </div>
                    <div class="property-grid" id="variable-position-fields" style="display: none;">
                        <div class="property-item">
                            <label>X Variable</label>
                            <input type="text" id="prop-x-variable" placeholder="{position_x}" class="variable-input">
                        </div>
                        <div class="property-item">
                            <label>Y Variable</label>
                            <input type="text" id="prop-y-variable" placeholder="{position_y}" class="variable-input">
                        </div>
                        <div class="property-item">
                            <label>Opacity Variable</label>
                            <input type="text" id="prop-opacity-variable" placeholder="{opacity}" class="variable-input">
                        </div>
                        <div class="property-item">
                            <label>Layer Variable</label>
                            <input type="text" id="prop-layer-variable" placeholder="{layer}" class="variable-input">
                        </div>
                    </div>
                    <div class="property-grid" id="normal-size-fields">
                        <div class="property-item" id="width-item">
                            <label>Width</label>
                            <input type="number" id="prop-width" step="0.1">
                        </div>
                        <div class="property-item" id="auto-width-item">
                            <label>Auto Width</label>
                            <div class="switch-container">
                                <input type="checkbox" id="prop-profile-auto-width" class="switch-input">
                                <label for="prop-profile-auto-width" class="switch-label">
                                    <span class="switch-slider"></span>
                                </label>
                            </div>
                        </div>
                        <div class="property-item" id="height-item">
                            <label>Height</label>
                            <input type="number" id="prop-height" step="0.1">
                        </div>
                    </div>
                    <div class="property-grid" id="variable-size-fields" style="display: none;">
                        <div class="property-item">
                            <label>Width Variable</label>
                            <input type="text" id="prop-width-variable" placeholder="{width}" class="variable-input">
                        </div>
                        <div class="property-item">
                            <label>Height Variable</label>
                            <input type="text" id="prop-height-variable" placeholder="{height}" class="variable-input">
                        </div>
                    </div>
                </div>

                <div class="property-section" id="text-properties" style="display: none;">
                    <div class="section-header">
                        <h4>Text Settings</h4>
                        <div class="variable-mode-toggle">
                            <label>
                                <input type="checkbox" id="text-variable-mode" class="switch-input">
                                <span class="switch-label">
                                    <span class="switch-slider"></span>
                                </span>
                                <span class="toggle-label">Variable Mode</span>
                            </label>
                        </div>
                    </div>
                    <div class="property-row">
                        <textarea id="prop-text" rows="3" placeholder="Enter text..."></textarea>
                    </div>
                    <div class="property-grid" id="normal-text-fields">
                        <div class="property-item">
                            <label>Size</label>
                            <input type="number" id="prop-font-size" value="16">
                        </div>
                        <div class="property-item">
                            <label>Color</label>
                            <div class="color-input-group">
                                <input type="color" id="prop-text-color" value="#ffffff">
                                <input type="text" id="prop-text-color-hex" placeholder="#ffffff" class="color-hex-input">
                            </div>
                        </div>
                        <div class="property-item">
                            <label>Font</label>
                            <div class="font-autocomplete-container">
                                <input type="text" id="prop-font-family" placeholder="Inter" class="font-input" autocomplete="off">
                                <div class="font-dropdown" id="font-dropdown" style="display: none;">
                                    <div class="font-search">
                                        <input type="text" id="font-search" placeholder="Search fonts..." class="font-search-input">
                                    </div>
                                    <div class="font-list" id="font-list">
                                        <!-- Fonts will be loaded here -->
                                    </div>
                                </div>
                            </div>
                            <div class="font-info">
                                <span class="font-info-text">
                                    <a href="https://fonts.google.com" target="_blank" class="font-link">Google Fonts</a> • 
                                    <span id="font-count">Loading...</span> fonts available
                                </span>
                            </div>
                        </div>
                    </div>
                    <div class="property-grid" id="variable-text-fields" style="display: none;">
                        <div class="property-item">
                            <label>Size Variable</label>
                            <input type="text" id="prop-font-size-variable" placeholder="{font_size}" class="variable-input">
                        </div>
                        <div class="property-item">
                            <label>Color Variable</label>
                            <input type="text" id="prop-text-color-variable" placeholder="{role_color}" class="variable-input">
                        </div>
                        <div class="property-item">
                            <label>Font Variable</label>
                            <input type="text" id="prop-font-family-variable" placeholder="{font_family}" class="variable-input">
                        </div>
                    </div>
                </div>

                <div class="property-section" id="progress-properties" style="display: none;">
                    <div class="section-header">
                        <h4>Progress Bar Settings</h4>
                        <div class="variable-mode-toggle">
                            <label>
                                <input type="checkbox" id="progress-variable-mode" class="switch-input">
                                <span class="switch-label">
                                    <span class="switch-slider"></span>
                                </span>
                                <span class="toggle-label">Variable Mode</span>
                            </label>
                        </div>
                    </div>
                    <div id="normal-progress-fields">
                        <div class="property-grid">
                            <div class="property-item">
                                <label>Value</label>
                                <input type="number" id="prop-progress-value" value="60" min="0" max="100">
                            </div>
                            <div class="property-item">
                                <label>Max</label>
                                <input type="number" id="prop-progress-max" value="100" min="1">
                            </div>
                        </div>
                        <div class="property-grid">
                            <div class="property-item">
                                <label>Progress Color</label>
                                <div class="color-input-group">
                                    <input type="color" id="prop-progress-color" value="#10b981">
                                    <input type="text" id="prop-progress-color-hex" placeholder="#10b981" class="color-hex-input">
                                </div>
                            </div>
                            <div class="property-item">
                                <label>Background Color</label>
                                <div class="color-input-group">
                                    <input type="color" id="prop-progress-bg-color" value="#334155">
                                    <input type="text" id="prop-progress-bg-color-hex" placeholder="#334155" class="color-hex-input">
                                </div>
                            </div>
                        </div>
                        <div class="property-row">
                            <label>Border Radius</label>
                            <div class="slider-input-container">
                                <input type="range" id="prop-progress-border-radius" value="1" min="1" max="100" class="range-slider">
                                <input type="number" id="prop-progress-border-radius-input" value="1" min="1" max="100" class="slider-input">
                            </div>
                        </div>
                    </div>
                    <div id="variable-progress-fields" style="display: none;">
                        <div class="property-grid">
                            <div class="property-item">
                                <label>Value Variable</label>
                                <input type="text" id="prop-progress-value-variable" placeholder="{progress_value}" class="variable-input">
                            </div>
                            <div class="property-item">
                                <label>Max Variable</label>
                                <input type="text" id="prop-progress-max-variable" placeholder="{progress_max}" class="variable-input">
                            </div>
                        </div>
                        <div class="property-grid">
                            <div class="property-item">
                                <label>Progress Color Variable</label>
                                <input type="text" id="prop-progress-color-variable" placeholder="{progress_color}" class="variable-input">
                            </div>
                            <div class="property-item">
                                <label>Background Color Variable</label>
                                <input type="text" id="prop-progress-bg-color-variable" placeholder="{bg_color}" class="variable-input">
                            </div>
                        </div>
                        <div class="property-row">
                            <label>Border Radius Variable</label>
                            <input type="text" id="prop-progress-border-radius-variable" placeholder="{border_radius}" class="variable-input">
                        </div>
                    </div>
                </div>

                <div class="property-section" id="image-properties" style="display: none;">
                    <div class="section-header">
                        <h4>Image Settings</h4>
                        <div class="variable-mode-toggle">
                            <label>
                                <input type="checkbox" id="image-variable-mode" class="switch-input">
                                <span class="switch-label">
                                    <span class="switch-slider"></span>
                                </span>
                                <span class="toggle-label">Variable Mode</span>
                            </label>
                        </div>
                    </div>
                    <div id="normal-image-fields">
                        <div class="property-row">
                            <label>Image URL</label>
                            <input type="url" id="prop-image-url" placeholder="https://example.com/image.jpg">
                        </div>
                        <div class="property-row">
                            <label>Border Radius</label>
                            <div class="slider-input-container">
                                <input type="range" id="prop-image-radius" value="1" min="1" max="100" class="range-slider">
                                <input type="number" id="prop-image-radius-input" value="1" min="1" max="100" class="slider-input">
                            </div>
                        </div>
                    </div>
                    <div id="variable-image-fields" style="display: none;">
                        <div class="property-row">
                            <label>Image URL Variable</label>
                            <input type="text" id="prop-image-url-variable" placeholder="{user_avatar}" class="variable-input">
                        </div>
                        <div class="property-grid">
                            <div class="property-item">
                                <label>Border Radius Variable</label>
                                <input type="text" id="prop-image-radius-variable" placeholder="{image_radius}" class="variable-input">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="property-section" id="profile-properties" style="display: none;">
                    <div class="section-header">
                        <h4>Discord Profile Settings</h4>
                        <div class="variable-mode-toggle">
                            <label>
                                <input type="checkbox" id="profile-variable-mode" class="switch-input">
                                <span class="switch-label">
                                    <span class="switch-slider"></span>
                                </span>
                                <span class="toggle-label">Variable Mode</span>
                            </label>
                        </div>
                    </div>
                    <div id="normal-profile-fields">
                        <div class="property-row">
                            <label id="prop-name-label">Discord ID</label>
                            <input type="text" id="prop-name" placeholder="1011787830567120898">
                        </div>
                        <div class="property-row">
                            <label>Border Radius</label>
                            <div class="slider-input-container">
                                <input type="range" id="prop-subtitle-slider" value="1" min="1" max="100" class="range-slider">
                                <input type="number" id="prop-subtitle" value="1" min="1" max="100" class="slider-input">
                            </div>
                        </div>
                    </div>
                    <div id="variable-profile-fields" style="display: none;">
                        <div class="property-row">
                            <label>Discord ID Variable</label>
                            <input type="text" id="prop-name-variable" placeholder="{user_id}" class="variable-input">
                        </div>
                        <div class="property-row">
                            <label>Border Radius Variable</label>
                            <input type="text" id="prop-subtitle-variable" placeholder="{avatar_radius}" class="variable-input">
                        </div>
                    </div>
                </div>

                </div> <!-- End properties-sections -->
            </div>

            <!-- Layers Panel -->
            <div class="tab-content" id="layers-tab">
                <div class="layers-list" id="layers-list">
                    <div class="no-layers">No elements added yet</div>
                </div>
            </div>
        </aside>
    </div>


    <!-- News Modal -->
    <div class="modal-overlay" id="news-modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>📰 Latest News & Updates</h2>
                <button class="modal-close" onclick="closeNewsModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="news-list">
                    <div class="news-list-item" onclick="showNewsDetail('collapsible-templates')">
                        <div class="news-item-icon">📋</div>
                        <div class="news-item-content">
                            <div class="news-item-title">Collapsible Templates Section <span class="news-item-badge" id="news-item-badge-collapsible-templates" style="display: none;">NEW</span></div>
                            <div class="news-item-date">October 2025</div>
                            <div class="news-item-preview">Templates section now shows only 4 templates initially with "Show More" button to expand all templates. Saves space and improves sidebar layout!</div>
                        </div>
                    </div>
                    
                    <div class="news-list-item" onclick="showNewsDetail('zoom-fixes')">
                        <div class="news-item-icon">🔧</div>
                        <div class="news-item-content">
                            <div class="news-item-title">Zoom System Fixes & Improvements <span class="news-item-badge" id="news-item-badge-zoom-fixes" style="display: none;">NEW</span></div>
                            <div class="news-item-date">October 2025</div>
                            <div class="news-item-preview">Fixed zoom system issues! All zoom levels (25%-500%) now work correctly, scroll wheel zoom synchronized with dropdown, and improved fit-to-screen with proper padding.</div>
                        </div>
                    </div>
                    
                    <div class="news-list-item" onclick="showNewsDetail('drag-select-system')">
                        <div class="news-item-icon">🖱️</div>
                        <div class="news-item-content">
                            <div class="news-item-title">Professional Drag & Select System <span class="news-item-badge" id="news-item-badge-drag-select-system" style="display: none;">NEW</span></div>
                            <div class="news-item-date">October 2025</div>
                            <div class="news-item-preview">Complete selection system like professional graphic design software! Shift+Drag for multi-select, Shift+Click for adding elements, and smart detection with zoom/pan.</div>
                        </div>
                    </div>
                    
                    <div class="news-list-item" onclick="showNewsDetail('zoom-pan-system')">
                        <div class="news-item-icon">🔍</div>
                        <div class="news-item-content">
                            <div class="news-item-title">Professional Zoom & Pan System <span class="news-item-badge" id="news-item-badge-zoom-pan-system" style="display: none;">NEW</span></div>
                            <div class="news-item-date">October 2025</div>
                            <div class="news-item-preview">Complete zoom and pan system like professional graphic design software! Deep zoom, pan & drag, zoom controls, and live zoom display.</div>
                        </div>
                    </div>
                    
                    <div class="news-list-item" onclick="showNewsDetail('canvas-image-handling')">
                        <div class="news-item-icon">🖼️</div>
                        <div class="news-item-content">
                            <div class="news-item-title">Smart Canvas Image Handling <span class="news-item-badge" id="news-item-badge-canvas-image-handling" style="display: none;">NEW</span></div>
                            <div class="news-item-date">October 2025</div>
                            <div class="news-item-preview">Canvas automatically resizes to match background image dimensions with proportional scaling and perfect fit!</div>
                        </div>
                    </div>
                    
                    <div class="news-list-item" onclick="showNewsDetail('mobile-development-status')">
                        <div class="news-item-icon">📱</div>
                        <div class="news-item-content">
                            <div class="news-item-title">Mobile Development Status Update <span class="news-item-badge" id="news-item-badge-mobile-development-status" style="display: none;">NEW</span></div>
                            <div class="news-item-date">October 2025</div>
                            <div class="news-item-preview">Transparent update about mobile development status - currently under development with limited functionality.</div>
                        </div>
                    </div>
                    
                    <div class="news-list-item" onclick="showNewsDetail('new-templates')">
                        <div class="news-item-icon">🎮</div>
                        <div class="news-item-content">
                            <div class="news-item-title">New Multi-Progress Templates <span class="news-item-badge" id="news-item-badge-new-templates" style="display: none;">NEW</span></div>
                            <div class="news-item-date">October 2025</div>
                            <div class="news-item-preview">4 new templates with 5-6 progress bars each! Gaming Stats, Achievement Progress, Professional Skills, Character Stats + auto-selection!</div>
                        </div>
                    </div>
                    
                    <div class="news-list-item" onclick="showNewsDetail('progress-bars-limit')">
                        <div class="news-item-icon">📊</div>
                        <div class="news-item-content">
                            <div class="news-item-title">Increased Progress Bar Limit <span class="news-item-badge" id="news-item-badge-progress-bars-limit" style="display: none;">NEW</span></div>
                            <div class="news-item-date">October 2025</div>
                            <div class="news-item-preview">Cookie API increased progress bar limit from 1 to 20 per card - much more creative freedom!</div>
                        </div>
                    </div>
                    
                    <div class="news-list-item" onclick="showNewsDetail('help-improvements')">
                        <div class="news-item-icon">❓</div>
                        <div class="news-item-content">
                            <div class="news-item-title">Enhanced Help System <span class="news-item-badge" id="news-item-badge-help-improvements" style="display: none;">NEW</span></div>
                            <div class="news-item-date">October 2025</div>
                            <div class="news-item-preview">Completely redesigned help section with sidebar navigation and better organization!</div>
                        </div>
                    </div>
                    
                    <div class="news-list-item" onclick="showNewsDetail('cyberpunk')">
                        <div class="news-item-icon">🎨</div>
                        <div class="news-item-content">
                            <div class="news-item-title">New Cyberpunk Template <span class="news-item-badge" id="news-item-badge-cyberpunk" style="display: none;">NEW</span></div>
                            <div class="news-item-date">October 2025</div>
                            <div class="news-item-preview">Added a stunning cyberpunk template with Rajdhani font for that authentic futuristic look!</div>
                        </div>
                    </div>
                    
                    <div class="news-list-item" onclick="showNewsDetail('properties')">
                        <div class="news-item-icon">⚡</div>
                        <div class="news-item-content">
                            <div class="news-item-title">Improved Card Properties <span class="news-item-badge" id="news-item-badge-properties" style="display: none;">NEW</span></div>
                            <div class="news-item-date">October 2025</div>
                            <div class="news-item-preview">Card properties now have a cleaner layout with labels on top and controls below.</div>
                        </div>
                    </div>
                    
                    <div class="news-list-item" onclick="showNewsDetail('ui')">
                        <div class="news-item-icon">🔧</div>
                        <div class="news-item-content">
                            <div class="news-item-title">Enhanced UI Layout <span class="news-item-badge" id="news-item-badge-ui" style="display: none;">NEW</span></div>
                            <div class="news-item-date">October 2025</div>
                            <div class="news-item-preview">Fixed the card properties layout to be more intuitive and consistent.</div>
                        </div>
                    </div>
                    
                    <div class="news-list-item" onclick="showNewsDetail('coming-soon')">
                        <div class="news-item-icon">🚀</div>
                        <div class="news-item-content">
                            <div class="news-item-title">New Features Coming Soon <span class="news-item-badge" id="news-item-badge-coming-soon" style="display: none;">NEW</span></div>
                            <div class="news-item-date">Coming Soon</div>
                            <div class="news-item-preview">We're working on exciting new features including more templates and advanced customization!</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- News Detail Modal -->
    <div class="modal-overlay" id="news-detail-modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-header-left">
                    <button class="back-btn" onclick="backToNewsList()" title="Back to News List">
                        <span>←</span> Back
                    </button>
                    <h2 id="news-detail-title">📰 News Detail</h2>
                </div>
                <button class="modal-close" onclick="closeNewsDetailModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="news-detail-content" id="news-detail-content">
                    <!-- Content will be loaded dynamically -->
                </div>
            </div>
        </div>
    </div>

    <!-- Help Modal -->
    <div class="modal-overlay" id="help-modal" style="display: none;">
        <div class="modal-content help-modal-content">
            <div class="modal-header">
                <h2>❓ Help & Guide</h2>
                <button class="modal-close" onclick="closeHelpModal()">&times;</button>
            </div>
            <div class="help-modal-body">
                <div class="help-sidebar">
                    <h3>Quick Navigation</h3>
                    <nav class="help-nav">
                        <a href="#getting-started" class="help-nav-link" onclick="scrollToHelpSection('getting-started')">
                            <span>🚀</span> Getting Started
                        </a>
                        <a href="#elements" class="help-nav-link" onclick="scrollToHelpSection('elements')">
                            <span>🎨</span> Elements
                        </a>
                        <a href="#quick-actions" class="help-nav-link" onclick="scrollToHelpSection('quick-actions')">
                            <span>⚡</span> Quick Actions
                        </a>
                        <a href="#canvas-controls" class="help-nav-link" onclick="scrollToHelpSection('canvas-controls')">
                            <span>🖼️</span> Canvas Controls
                        </a>
                        <a href="#properties" class="help-nav-link" onclick="scrollToHelpSection('properties')">
                            <span>🎯</span> Properties
                        </a>
                        <a href="#mobile" class="help-nav-link" onclick="scrollToHelpSection('mobile')">
                            <span>📱</span> Mobile Usage
                        </a>
                        <a href="#shortcuts" class="help-nav-link" onclick="scrollToHelpSection('shortcuts')">
                            <span>⌨️</span> Shortcuts
                        </a>
                        <a href="#discord-bot-integration" class="help-nav-link" onclick="scrollToHelpSection('discord-bot-integration')">
                            <span>🤖</span> Bot Config
                        </a>
                        <a href="#troubleshooting" class="help-nav-link" onclick="scrollToHelpSection('troubleshooting')">
                            <span>🔧</span> Troubleshooting
                        </a>
                    </nav>
                </div>
                <div class="help-content">
                    <div class="help-sections">
                    <div class="help-section" id="getting-started">
                        <h3>🚀 Getting Started</h3>
                        <ol>
                            <li><strong>Choose a template</strong> from the left sidebar or start from scratch</li>
                            <li><strong>Add elements</strong> by clicking on element buttons (Text, Image, Discord Profile, etc.)</li>
                            <li><strong>Customize properties</strong> in the right panel when an element is selected</li>
                            <li><strong>Export your card</strong> using the Export button or mobile navigation</li>
                        </ol>
                    </div>

                    <div class="help-section" id="elements">
                        <h3>🎨 Available Elements</h3>
                        <div class="element-list">
                            <div class="element-item">
                                <strong>📝 Text</strong> - Add custom text with font, size, and color options<br>
                                <span style="color: var(--text-muted); font-size: 0.85rem;">Supports all fonts, but font variants (BOLD, italic) not supported by cookie-api. Limit: 100 text elements per card</span>
                            </div>
                            <div class="element-item">
                                <strong>🖼️ Image</strong> - Add images by URL with resizing and positioning<br>
                                <span style="color: var(--text-muted); font-size: 0.85rem;">GIFs not supported. Limit: 10 images per card</span>
                            </div>
                            <div class="element-item">
                                <strong>👤 Discord Profile</strong> - Display Discord user avatar dynamically by user ID<br>
                                <span style="color: var(--text-muted); font-size: 0.85rem;">Limit: 10 Discord profiles per card</span>
                            </div>
                            <div class="element-item">
                                <strong>🎮 Roblox Profile</strong> - Display Roblox user avatar dynamically by username<br>
                                <span style="color: var(--text-muted); font-size: 0.85rem;">Limit: 10 Roblox profiles per card</span>
                            </div>
                            <div class="element-item">
                                <strong>📊 Progress Bar</strong> - Show progress with customizable value and color<br>
                                <span style="color: var(--text-muted); font-size: 0.85rem;">Limit: 20 progress bars per card</span>
                            </div>
                        </div>
                    </div>

                    <div class="help-section" id="quick-actions">
                        <h3>⚡ Quick Actions</h3>
                        <div class="action-list">
                            <div class="action-item">
                                <strong>🎯 Center</strong> - Center selected element on canvas
                            </div>
                            <div class="action-item">
                                <strong>⬆️ Top / ⬇️ Bottom / ⬅️ Left / ➡️ Right</strong> - Align element to edges
                            </div>
                            <div class="action-item">
                                <strong>📐 Fit</strong> - Resize element to fit canvas
                            </div>
                            <div class="action-item">
                                <strong>🧲 Snap</strong> - Enable/disable grid snapping for precise positioning
                            </div>
                            <div class="action-item">
                                <strong>🎯 Show Center</strong> - Toggle center crosshair visibility
                            </div>
                        </div>
                    </div>

                    <div class="help-section" id="canvas-controls">
                        <h3>🖼️ Canvas Controls</h3>
                        <div class="control-list">
                            <div class="control-item">
                                <strong>Canvas Size</strong> - Set width and height (default: 800x400)<br>
                                <span style="color: var(--text-muted); font-size: 0.85rem;">Limits: Width 100-1200px, Height 100-1200px</span>
                            </div>
                            <div class="control-item">
                                <strong>Zoom & Pan</strong> - Professional zoom system (25% to 500%) with pan controls<br>
                                <span style="color: var(--text-muted); font-size: 0.85rem;">Left click + drag: Pan canvas | Middle mouse: Pan canvas | Scroll wheel: Zoom | Zoom buttons: +/- | Fit to screen: Fullscreen icon</span>
                            </div>
                            <div class="control-item">
                                <strong>Element Selection</strong> - Professional selection system<br>
                                <span style="color: var(--text-muted); font-size: 0.85rem;">Shift + Drag: Multi-select box | Shift + Click: Add to selection | Ctrl/Cmd + Click: Toggle selection</span>
                            </div>
                            <div class="control-item">
                                <strong>Background Type</strong> - Choose between Color or Image background
                            </div>
                            <div class="control-item">
                                <strong>Transparent</strong> - Make background transparent for overlays
                            </div>
                            <div class="control-item">
                                <strong>Clear Canvas</strong> - Remove all elements from canvas
                            </div>
                        </div>
                    </div>

                    <div class="help-section" id="properties">
                        <h3>🎯 Element Properties</h3>
                        <div class="property-list">
                            <div class="property-item">
                                <strong>Position</strong> - Set X and Y coordinates (or use variable positioning)
                            </div>
                            <div class="property-item">
                                <strong>Size</strong> - Adjust width and height
                            </div>
                            <div class="property-item">
                                <strong>Layer</strong> - Control stacking order (higher = on top)
                            </div>
                            <div class="property-item">
                                <strong>Transparency</strong> - Set opacity (0-100%)
                            </div>
                            <div class="property-item">
                                <strong>Text Properties</strong> - Font, size, color, and content
                            </div>
                            <div class="property-item">
                                <strong>Image URL</strong> - Set image source
                            </div>
                            <div class="property-item">
                                <strong>Profile Data</strong> - Avatar, name, and subtitle for profiles
                            </div>
                        </div>
                    </div>

                    <div class="help-section" id="mobile">
                        <h3>📱 Mobile Usage</h3>
                        <div class="mobile-warning">
                            <div class="warning-box">
                                <strong>⚠️ WARNING: Mobile version is currently under development</strong><br>
                                <span style="color: var(--text-muted); font-size: 0.9rem;">
                                    The mobile interface is not fully functional yet. Some features may not work correctly on mobile devices. 
                                    We recommend using the desktop version for the best experience.
                                </span>
                            </div>
                        </div>
                        <div class="mobile-list">
                            <div class="mobile-item">
                                <strong>Bottom Navigation</strong> - Use Add, Canvas, Edit, Export buttons
                            </div>
                            <div class="mobile-item">
                                <strong>Touch & Drag</strong> - Move elements by touching and dragging
                            </div>
                            <div class="mobile-item">
                                <strong>Pinch to Zoom</strong> - Zoom canvas with pinch gestures
                            </div>
                            <div class="mobile-item">
                                <strong>Responsive Layout</strong> - Interface adapts to screen size
                            </div>
                        </div>
                    </div>

                    <div class="help-section" id="shortcuts">
                        <h3>⌨️ Keyboard Shortcuts</h3>
                        <div class="shortcut-list">
                            <div class="shortcut-item">
                                <kbd>Backspace</kbd> or <kbd>Delete</kbd> - Delete selected element(s)
                            </div>
                            <div class="shortcut-item">
                                <kbd>Escape</kbd> - Deselect element or close modals
                            </div>
                            <div class="shortcut-item">
                                <kbd>Shift</kbd> + <kbd>Drag</kbd> - Multi-select elements with selection box<br>
                                <span style="color: var(--text-muted); font-size: 0.85rem;">Hold Shift and drag to create a selection box around multiple elements</span>
                            </div>
                            <div class="shortcut-item">
                                <kbd>Shift</kbd> + <kbd>Click</kbd> - Add/remove elements from selection<br>
                                <span style="color: var(--text-muted); font-size: 0.85rem;">Hold Shift and click to add or remove individual elements from your selection</span>
                            </div>
                            <div class="shortcut-item">
                                <kbd>Ctrl</kbd>/<kbd>Cmd</kbd> + <kbd>Click</kbd> - Toggle element in/out of selection<br>
                                <span style="color: var(--text-muted); font-size: 0.85rem;">Hold Ctrl (Windows) or Cmd (Mac) and click to toggle individual elements</span>
                            </div>
                            <div class="shortcut-item">
                                <kbd>Shift</kbd> + <kbd>Drag</kbd> (on element) - Axis lock with dynamic direction change<br>
                                <span style="color: var(--text-muted); font-size: 0.85rem;">Hold Shift and drag an element to lock movement to one axis. Change direction during drag to switch between X and Y axis lock. Yellow line shows current lock direction.</span>
                            </div>
                        </div>
                    </div>


                    <div class="help-section" id="discord-bot-integration">
                        <h3>🤖 Discord Bot Integration</h3>
                        <div class="integration-list">
                            <div class="integration-item">
                                <strong>📋 Step 1: Get Cookie API Access</strong><br>
                                • Visit <a href="https://cookie-api.com" target="_blank" style="color: var(--accent-color);">Cookie API</a> and sign up<br>
                                • Create an API key in your dashboard<br>
                                • Copy your API key for bot configuration
                            </div>
                            <div class="integration-item">
                                <strong>🔧 Step 2: API Configuration</strong><br>
                                <div style="background: rgba(0,0,0,0.2); padding: 1rem; border-radius: 6px; margin-top: 0.5rem; border-left: 3px solid var(--accent-color);">
                                    <div style="margin-bottom: 0.75rem;">
                                        <strong style="color: var(--accent-color);">URL:</strong><br>
                                        <div style="display: flex; align-items: flex-end; gap: 0.75rem; margin-top: 0.25rem;">
                                            <span style="background: var(--accent-color); color: white; padding: 0.25rem 0.5rem; border-radius: 3px; font-weight: 600; font-size: 0.9rem;">POST</span>
                                            <code style="background: rgba(0,0,0,0.3); padding: 0.25rem 0.5rem; border-radius: 3px; font-size: 0.9rem; flex: 1;">https://api.cookie-api.com/api/cards/card-builder/build</code>
                                        </div>
                                    </div>
                                    <div style="margin-bottom: 0.75rem;">
                                        <strong style="color: var(--accent-color);">HTTP Headers:</strong><br>
                                        <div style="background: rgba(0,0,0,0.1); padding: 0.5rem; border-radius: 4px; margin-top: 0.25rem;">
                                            <div style="display: grid; grid-template-columns: 1fr 2fr; gap: 0.5rem; align-items: center;">
                                                <div>
                                                    <strong style="color: var(--text-muted); font-size: 0.8rem;">Key</strong><br>
                                                    <code style="background: rgba(0,0,0,0.3); padding: 0.25rem 0.5rem; border-radius: 3px; font-size: 0.9rem;">Authorization</code>
                                                </div>
                                                <div>
                                                    <strong style="color: var(--text-muted); font-size: 0.8rem;">Value</strong><br>
                                                    <code style="background: rgba(0,0,0,0.3); padding: 0.25rem 0.5rem; border-radius: 3px; font-size: 0.9rem;">YourApiKey</code>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="integration-item">
                                <strong>🤖 Step 3: Bot Integration</strong><br>
                                • Use HTTP Request or API Call block in your bot platform<br>
                                • Send POST request with your exported JSON as body<br>
                                • Include Authorization header with your API key<br>
                                • The API will return the generated card image
                            </div>
                            <div class="integration-item">
                                <strong>📝 Example Request</strong><br>
                                <div style="background: rgba(0,0,0,0.2); padding: 1rem; border-radius: 6px; margin-top: 0.5rem; border-left: 3px solid var(--accent-color);">
                                    <div style="margin-bottom: 0.75rem;">
                                        <strong style="color: var(--accent-color);">URL:</strong><br>
                                        <div style="display: flex; align-items: flex-end; gap: 0.75rem; margin-top: 0.25rem;">
                                            <span style="background: var(--accent-color); color: white; padding: 0.25rem 0.5rem; border-radius: 3px; font-weight: 600; font-size: 0.9rem;">POST</span>
                                            <code style="background: rgba(0,0,0,0.3); padding: 0.25rem 0.5rem; border-radius: 3px; font-size: 0.9rem; flex: 1;">https://api.cookie-api.com/api/cards/card-builder/build</code>
                                        </div>
                                    </div>
                                    <div style="margin-bottom: 0.75rem;">
                                        <strong style="color: var(--accent-color);">HTTP Headers:</strong><br>
                                        <div style="background: rgba(0,0,0,0.1); padding: 0.5rem; border-radius: 4px; margin-top: 0.25rem;">
                                            <div style="display: grid; grid-template-columns: 1fr 2fr; gap: 0.5rem; align-items: center;">
                                                <div>
                                                    <strong style="color: var(--text-muted); font-size: 0.8rem;">Key</strong><br>
                                                    <code style="background: rgba(0,0,0,0.3); padding: 0.25rem 0.5rem; border-radius: 3px; font-size: 0.9rem;">Authorization</code>
                                                </div>
                                                <div>
                                                    <strong style="color: var(--text-muted); font-size: 0.8rem;">Value</strong><br>
                                                    <code style="background: rgba(0,0,0,0.3); padding: 0.25rem 0.5rem; border-radius: 3px; font-size: 0.9rem;">Abc123Def456Ghi789Jkl012Mno345Pqr678Stu901Vwx234Yz</code>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <strong style="color: var(--accent-color);">Request Body:</strong><br>
                                        <code style="background: rgba(0,0,0,0.3); padding: 0.5rem; border-radius: 3px; font-size: 0.75rem; display: block; margin-top: 0.25rem; line-height: 1.3; white-space: pre-wrap; overflow-x: auto;">{
  "card": {
    "width": "801",
    "height": "401",
    "bg": "#1a1a2e",
    "bg_type": "color"
  },
  "elements": [
    {
      "id": "1",
      "type": "image",
      "url": "https://img.freepik.com/premium-vector/black-background-with-square-glass-frame-black-3d-spheres-glass-morphism-style_206325-2814.jpg",
      "transparency": "100",
      "layer": "1",
      "border_radius": "1",
      "position": {
        "x": 1,
        "y": 1
      },
      "size": {
        "width": 808,
        "height": 484
      }
    },
    {
      "id": "4",
      "type": "discord_profile",
      "user_id": "1011787830567120898",
      "transparency": "100",
      "layer": "4",
      "border_radius": "40",
      "position": {
        "x": 254.66666666666666,
        "y": 155.33333333333334
      },
      "size": {
        "width": 80,
        "height": 80
      }
    },
    {
      "id": "5",
      "type": "text",
      "text": "Trolens is the GOAT",
      "text_size": "20",
      "font": "Inter",
      "color": "#ffffff",
      "transparency": "100",
      "layer": "5",
      "position": {
        "x": 354.66666666666663,
        "y": 175.33333333333334
      },
      "size": {
        "width": 199,
        "height": 28
      }
    },
    {
      "id": "7",
      "type": "progressbar",
      "layer": "7",
      "transparency": "32",
      "position": {
        "x": 251.66666666666663,
        "y": 273.66666666666663
      },
      "size": {
        "width": 294,
        "height": 34.666666666666664
      },
      "value": 88,
      "max": 100,
      "color": "#d71919",
      "bg_color": "#292828",
      "border_radius": 100
    },
    {
      "id": "9",
      "type": "text",
      "text": "Max Level Beast",
      "text_size": "16",
      "font": "Inter",
      "color": "#305a55",
      "transparency": "100",
      "layer": "8",
      "position": {
        "x": 256.66666666666663,
        "y": 246.4
      },
      "size": {
        "width": 131,
        "height": 23.2
      }
    },
    {
      "id": "10",
      "type": "text",
      "text": "90%",
      "text_size": "16",
      "font": "Inter",
      "color": "#ffffff",
      "transparency": "100",
      "layer": "9",
      "position": {
        "x": 380,
        "y": 278.4
      },
      "size": {
        "width": 44,
        "height": 23.2
      }
    }
  ]
}</code>
                                    </div>
                                </div>
                            </div>
                            <div class="integration-item">
                                <strong>✅ API Response</strong><br>
                                <strong>Success Response (Status: 200):</strong><br>
                                <code style="background: rgba(0,0,0,0.3); padding: 0.5rem; border-radius: 4px; display: block; margin-top: 0.5rem; font-size: 0.85rem;">
                                    {<br>
                                    &nbsp;&nbsp;"message": "Card successfully created!",<br>
                                    &nbsp;&nbsp;"success": true,<br>
                                    &nbsp;&nbsp;"url": "<span style="color: #ffd700; font-weight: bold;">https://cards.cookie-api.com/card-builder/094866000341562/f140a163-4cd5-4b83-a06c-a28ff57ac03d.png</span>"<br>
                                    }
                                </code>
                                <div style="margin-top: 0.5rem; padding: 0.5rem; background: rgba(255, 215, 0, 0.1); border-radius: 4px; font-size: 0.85rem;">
                                    <strong>💡 Tip:</strong> Copy the highlighted URL and use it as an <strong>Image URL</strong> in your Discord bot's image elements!
                                </div>
                                <strong>Error Response (Status: 400/500):</strong><br>
                                <code style="background: rgba(0,0,0,0.3); padding: 0.5rem; border-radius: 4px; display: block; margin-top: 0.5rem; font-size: 0.85rem;">
                                    {<br>
                                    &nbsp;&nbsp;"response": {<br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;"success": false,<br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;"errors": [<br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"id": "d8bcdd98-09f7-40ea-a558-7736a833c17b",<br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"code": 100310,<br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"message": "Missing position/size parameters at element '8'"<br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;],<br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;"messages": []<br>
                                    &nbsp;&nbsp;},<br>
                                    &nbsp;&nbsp;"status": 400,<br>
                                    &nbsp;&nbsp;"statusText": "Bad Request"<br>
                                    }
                                </code>
                                <div style="margin-top: 0.5rem; padding: 0.5rem; background: rgba(255, 107, 53, 0.1); border-radius: 4px; font-size: 0.85rem;">
                                    <strong>Note:</strong> This error shouldn't occur when using our builder as it properly validates and sets all position/size parameters automatically.
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="help-section" id="troubleshooting">
                        <h3>🔧 Troubleshooting</h3>
                        <div class="troubleshoot-list">
                            <div class="troubleshoot-item">
                                <strong>Element not visible?</strong> - Check layer order and transparency
                            </div>
                            <div class="troubleshoot-item">
                                <strong>Can't select element?</strong> - Make sure it's not behind another element
                            </div>
                            <div class="troubleshoot-item">
                                <strong>Image not loading?</strong> - Verify URL is accessible and image format is supported
                            </div>
                            <div class="troubleshoot-item">
                                <strong>Export not working?</strong> - Ensure you have elements on canvas
                            </div>
                            <div class="troubleshoot-item">
                                <strong>API not responding?</strong> - Check your API key and request format
                            </div>
                            <div class="troubleshoot-item">
                                <strong>Card generation failed?</strong> - Verify all element URLs are accessible
                            </div>
                        </div>
                    </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile Navigation -->
    <div class="mobile-nav">
        <button class="mobile-nav-btn" onclick="openMobilePanel('tools')">
            <span class="nav-icon">➕</span>
            <span class="nav-label">Add</span>
        </button>
        <button class="mobile-nav-btn" onclick="openMobilePanel('canvas')">
            <span class="nav-icon">🎨</span>
            <span class="nav-label">Canvas</span>
        </button>
        <button class="mobile-nav-btn" onclick="openMobilePanel('properties')">
            <span class="nav-icon">⚙️</span>
            <span class="nav-label">Edit</span>
        </button>
        <button class="mobile-nav-btn" onclick="exportCard()">
            <span class="nav-icon">💾</span>
            <span class="nav-label">Export</span>
        </button>
    </div>

    <script src="js/app.js"></script>
    <script src="js/canvas.js"></script>
    <script src="js/elements.js"></script>
    <script src="js/properties.js"></script>
      <script src="js/mobile.js"></script>
  </body>
  </html>
</html>